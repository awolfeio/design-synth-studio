import{i as Ie,j as e,b as Ne,d as Fe,r as Pe,R as A,z as R,B as Ae,X as Oe,c as De,A as je}from"./index-BYCw9C1-.js";import{L as Ve}from"./index-CEaHOFxl.js";import{S as We}from"./switch-DBhJXYmX.js";import{P as ze,a as Be,b as He,g as Ue}from"./lchColorUtils-ScKwgACo.js";import{g as we,a as Xe}from"./easingUtils-5hbnZ6CB.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Ie("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]),Me=({className:s="w-4 h-4"})=>e.jsx("svg",{className:s,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),$e=({tokenName:s,stepIndex:n,currentColor:o,useWhiteIcon:p=!1})=>{const{system:m}=Ne(),{comparisonColors:u,setComparisonColor:h,clearComparisonColor:r,hasCustomComparison:l}=Fe(),[y,x]=Pe.useState(!1),j=`${s}-${n}`,z=l(j),V=u[j],N=A.useCallback((b,w)=>{const c=Math.max(0,Math.round(w.steps)-12);return b<c?b===0&&c===2?25:50:(b-c+1)*100},[]),d=A.useCallback((b,w,c)=>{c.primaryStepIndex??Math.ceil(w/2)-1;const O=5,D=95,U=D-O;return D-b/(w-1)*U},[]),t=A.useCallback((b,w,c)=>c.saturation,[]),H=A.useMemo(()=>{const b=[];return b.push({label:"White",hex:"#FFFFFF",group:"Basic"}),b.push({label:"Black",hex:"#000000",group:"Basic"}),Object.entries(m.colors).forEach(([w,c])=>{if(c.steps&&c.steps>1){const O=Math.round(c.steps);for(let D=0;D<O;D++){const U=N(D,c),_=d(D,O,c),E=t(D,O,c),Q=R(c.hue,E,_,c.alpha);b.push({label:`${w}-${U}`,hex:Q,group:w.charAt(0).toUpperCase()+w.slice(1)})}}else{const O=R(c.hue,c.saturation,c.lightness,c.alpha);b.push({label:w,hex:O,group:"Other"})}}),b},[m.colors,N,d,t]),K=b=>{h(j,b),x(!1)},T=b=>{b.stopPropagation(),r(j)};return e.jsxs(ze,{open:y,onOpenChange:x,children:[e.jsx(Be,{asChild:!0,children:e.jsx(Ae,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 ${z?"bg-primary/10":""} group`,title:z?`Comparing with ${V}`:"Select comparison color",children:z?e.jsx("div",{className:"w-4 h-4 rounded-full border border-border",style:{backgroundColor:V}}):e.jsx(qe,{className:`h-3 w-3 drop-shadow-sm transition-colors ${p?"text-white group-hover:text-black":"text-black group-hover:text-black"}`})})}),e.jsx(He,{className:"w-80 p-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Select Comparison Color"}),z&&e.jsxs(Ae,{variant:"ghost",size:"sm",onClick:T,className:"h-6 px-2 text-xs",children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(H.reduce((b,w)=>(b[w.group]||(b[w.group]=[]),b[w.group].push(w),b),{})).map(([b,w])=>e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:b}),e.jsx("div",{className:"grid grid-cols-6 gap-1",children:w.map(c=>e.jsx("button",{onClick:()=>K(c.hex),className:`
                        w-full aspect-square rounded border transition-all
                        ${c.hex===o?"border-destructive cursor-not-allowed opacity-50":"border-border hover:border-primary"}
                        ${c.hex===V?"ring-2 ring-primary ring-offset-1":""}
                      `,style:{backgroundColor:c.hex},title:c.label,disabled:c.hex===o},c.label))})]},b))})]})})]})},Je=({lightnessValues:s,primaryStepIndex:n,className:o="",primaryColor:p="#ef4444",secondaryColor:m="#3b82f6"})=>{if(!s||s.length===0)return null;const u="#9ca3af",h=400,r=160,l={top:20,right:20,bottom:30,left:40},y=h-l.left-l.right,x=r-l.top-l.bottom,j=s.map((d,t)=>{const H=l.left+t/(s.length-1)*y,K=l.top+(100-d)/100*x;return{x:H,y:K,index:t,lightness:d}}),z=j.map((d,t)=>`${t===0?"M":"L"} ${d.x} ${d.y}`).join(" "),V=[];for(let d=0;d<=10;d++){const t=l.top+d/10*x;V.push(e.jsx("line",{x1:l.left,y1:t,x2:l.left+y,y2:t,stroke:"#e5e5e5",strokeWidth:"1"},`grid-${d}`))}const N={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"};return e.jsxs("div",{className:`mx-auto ${o}`,style:{width:"700px",maxWidth:"100%"},children:[e.jsx("div",{className:"relative w-full",style:{paddingBottom:`${r/h*100}%`},children:e.jsxs("svg",{viewBox:`0 0 ${h} ${r}`,className:"absolute inset-0 w-full h-full",preserveAspectRatio:"xMidYMid meet",children:[e.jsx("defs",{children:e.jsx("style",{children:`
              .graph-svg-text { font-size: 11px; font-family: 'IBM Plex Mono', ui-monospace, SFMono-Regular, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }
              .graph-svg-text-small { font-size: 10px; font-family: 'IBM Plex Mono', ui-monospace, SFMono-Regular, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }
              .graph-svg-text-tiny { font-size: 9px; font-family: 'IBM Plex Mono', ui-monospace, SFMono-Regular, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }
            `})}),e.jsx("rect",{x:"0",y:"0",width:h,height:r,fill:"transparent"}),V,e.jsx("line",{x1:l.left,y1:l.top,x2:l.left,y2:l.top+x,stroke:"#666",strokeWidth:"1"}),e.jsx("line",{x1:l.left,y1:l.top+x,x2:l.left+y,y2:l.top+x,stroke:"#666",strokeWidth:"1"}),e.jsx("text",{x:l.left-5,y:l.top+3,textAnchor:"end",className:"fill-muted-foreground graph-svg-text",style:N,children:"100"}),e.jsx("text",{x:l.left-5,y:l.top+x/2+3,textAnchor:"end",className:"fill-muted-foreground graph-svg-text",style:N,children:"50"}),e.jsx("text",{x:l.left-5,y:l.top+x+3,textAnchor:"end",className:"fill-muted-foreground graph-svg-text",style:N,children:"0"}),e.jsx("text",{x:12,y:r/2,textAnchor:"middle",className:"fill-muted-foreground graph-svg-text-small",transform:"rotate(-90 15 69) scale(0.8)",style:N,children:"Lightness %"}),e.jsx("text",{x:h/2,y:r-5,textAnchor:"middle",className:"fill-muted-foreground graph-svg-text",style:{...N,transform:"scale(0.8)",transformOrigin:"bottom center"},children:"Step Index"}),e.jsx("path",{d:z,fill:"none",stroke:u,strokeWidth:"2.5",opacity:"0.8"}),j.map(d=>e.jsx("circle",{cx:d.x,cy:d.y,r:d.index===n?6:4,fill:d.index===n?p:u,stroke:"white",strokeWidth:"1.5",opacity:d.index===n?"1":"0.8"},d.index)),n!==void 0&&j[n]&&e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:j[n].x,y1:l.top,x2:j[n].x,y2:l.top+x,stroke:p,strokeWidth:"1.5",strokeDasharray:"3,3",opacity:"0.5"}),e.jsx("text",{x:j[n].x,y:l.top-5,textAnchor:"middle",className:"font-medium graph-svg-text-small",style:{...N,fill:p,transform:"scale(0.8)",transformOrigin:"top center"},children:"Primary"})]}),j.length<=14&&j.map((d,t)=>e.jsx("text",{x:d.x,y:l.top+x+15,textAnchor:"middle",className:"fill-muted-foreground graph-svg-text-tiny",style:N,children:t+1},`label-${t}`)),j.map(d=>e.jsx("g",{children:e.jsx("rect",{x:d.x-20,y:d.y-20,width:40,height:40,fill:"transparent",className:"cursor-pointer",children:e.jsxs("title",{children:["Step ",d.index+1,": ",d.lightness.toFixed(1),"% lightness"]})})},`hover-${d.index}`))]})}),e.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center select-none font-mono",children:"Lightness Distribution Across Steps"})]})};function Ke(s){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(!n)throw new Error(`Invalid hex color: ${s}`);return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}function Te(s,n,o){s=s/255,n=n/255,o=o/255,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;const p=s*.4124564+n*.3575761+o*.1804375,m=s*.2126729+n*.7151522+o*.072175,u=s*.0193339+n*.119192+o*.9503041;return[p*100,m*100,u*100]}function Ge(s,n,o){s=s/95.047,n=n/100,o=o/108.883;const h=s>.008856?Math.pow(s,1/3):7.787*s+16/116,r=n>.008856?Math.pow(n,1/3):7.787*n+16/116,l=o>.008856?Math.pow(o,1/3):7.787*o+16/116,y=116*r-16,x=500*(h-r),j=200*(r-l);return[y,x,j]}function Se(s){const[n,o,p]=Ke(s),[m,u,h]=Te(n,o,p);return Ge(m,u,h)}function Ye(s,n){try{const[o,p,m]=Se(s),[u,h,r]=Se(n),l=o-u,y=p-h,x=m-r,j=Math.sqrt(l*l+y*y+x*x);return Math.round(j*100)/100}catch(o){return console.error("Error calculating Delta E:",o),0}}function ke(s,n,o=4){const p=s[n],m=[],u=[];for(let h=0;h<s.length;h++){if(h===n)continue;const r=Ye(p,s[h]);u.push(r),r<=o&&m.push(h)}return{hasSimilarSibling:m.length>0,similarIndices:m,deltaEValues:u.filter(h=>h<=o)}}function fe(s){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[0,0,0]}function Ze(s,n,o,p){s=s/360,n=n/100,o=o/100;const m=(l,y,x)=>(x<0&&(x+=1),x>1&&(x-=1),x<1/6?l+(y-l)*6*x:x<1/2?y:x<2/3?l+(y-l)*(2/3-x)*6:l);let u,h,r;if(n===0)u=h=r=o;else{const l=o<.5?o*(1+n):o+n-o*n,y=2*o-l;u=m(y,l,s+1/3),h=m(y,l,s),r=m(y,l,s-1/3)}return[Math.round(u*255),Math.round(h*255),Math.round(r*255)]}function _e(s,n,o,p,m=[255,255,255]){return Ze(s,n,o).map((r,l)=>{const y=m[l];return Math.round(r*p+y*(1-p))})}function ie(s){const[n,o,p]=s.map(m=>{const u=m/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)});return .2126*n+.7152*o+.0722*p}function le(s,n){const o=fe(s),p=fe(n),m=ie(o),u=ie(p),h=m>u?(m+.05)/(u+.05):(u+.05)/(m+.05);return parseFloat(h.toFixed(2))}function Le(s,n,o,p,m){const u=_e(s,n,o,p),h=fe(m),r=ie(u),l=ie(h),y=r>l?(r+.05)/(l+.05):(l+.05)/(r+.05);return parseFloat(y.toFixed(2))}function Z(s){return{AA:s>=4.5,AAA:s>=7}}const rt=({tokenName:s,label:n,showSteps:o=!1,showContrastData:p=!0,showEnableSwitch:m=!1,isEnabled:u=!0,onToggleEnabled:h})=>{const{system:r,dispatch:l,leftColumnWidth:y,setLeftColumnWidth:x}=Ne(),{activeColorControl:j,setActiveColorControl:z,setControlProps:V}=De(),{comparisonColors:N,deltaECheckEnabled:d}=Fe(),t=r.colors[s],[H,K]=A.useState(!1),[T,b]=A.useState(!1),[w,c]=A.useState(""),[O,D]=A.useState(0),U=A.useRef(null),_=j===s,E=A.useMemo(()=>R(t.hue,t.saturation,t.lightness,t.alpha),[t.hue,t.saturation,t.lightness,t.alpha]),Q=A.useRef(!1);A.useEffect(()=>{Q.current||c(E)},[E]),A.useEffect(()=>{_&&V({tokenName:s,label:n,showSteps:o,isPickerOpen:H,setIsPickerOpen:K,hexInputValue:E,setHexInputValue:c,colorHex:E,handleHexChange:ve,handleHexInputChange:be,handleHexInputSubmit:he,handleHexInputKeyPress:Ce,updateColorProperty:B,handleInputChange:ye,getStepValue:ne})},[_,E,t,H]),A.useEffect(()=>{if(!U.current)return;const a=new ResizeObserver(f=>{for(const C of f){const{width:v}=C.contentRect;D(v)}});return a.observe(U.current),()=>{a.disconnect()}},[o]);const Re=()=>{z(s),V({tokenName:s,label:n,showSteps:o,isPickerOpen:H,setIsPickerOpen:K,hexInputValue:w,setHexInputValue:c,colorHex:E,handleHexChange:ve,handleHexInputChange:be,handleHexInputSubmit:he,handleHexInputKeyPress:Ce,updateColorProperty:B,handleInputChange:ye,getStepValue:ne})},ce=()=>{const a=Math.round(t.steps);if(t.primaryStepIndex!==void 0)return Math.max(0,Math.min(t.primaryStepIndex,a-1));if(s==="success"||s==="warning"||s==="destructive")return Math.max(0,a-2-1);const C=Math.max(0,a-12);return Math.ceil((a-C)/2)-1+C},ge=()=>{const a=Math.round(t.steps);return Math.max(0,a-12)},ne=a=>{const f=ge();return a<f?a===0&&f===2?25:50:(a-f+1)*100},ue=()=>{const a=Math.round(t.steps);if(s==="success"||s==="warning"||s==="destructive")return a;switch(a){case 9:return 5;case 10:return 5;case 11:return 6;case 12:return 6;case 13:return 7;case 14:return 7;default:return a<=6?a:a<=8?4:Math.ceil(a/2)}},ee=A.useRef(),be=a=>{const f=a.target.value;c(f)},he=()=>{let a=w.trim();if(a&&!a.startsWith("#")&&(a="#"+a),/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(a)){a.length===4&&(a="#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);try{const{h:C,s:v,l:L,a:I}=je(a);B("hue",C);const G=s==="neutrals"?Math.min(v,15):v;B("saturation",G),B("lightness",L)}catch{c(E)}}else c(E)},Ce=a=>{a.key==="Enter"&&(he(),a.currentTarget.blur())},B=(a,f)=>{l({type:"UPDATE_COLOR",tokenName:s,property:a,value:f})},ve=A.useCallback(a=>{ee.current&&clearTimeout(ee.current),Q.current=!0,ee.current=setTimeout(()=>{try{const{h:f,s:C,l:v,a:L}=je(a),I=.3,G=Math.abs(t.hue-f)>I,te=Math.abs(t.saturation-(s==="neutrals"?Math.min(C,15):C))>I,se=Math.abs(t.lightness-v)>I;if(G||te||se){const Y=[];if(G&&Y.push({property:"hue",value:f}),te){const ae=s==="neutrals"?Math.min(C,15):C;Y.push({property:"saturation",value:ae})}se&&Y.push({property:"lightness",value:v}),Y.forEach(({property:ae,value:X})=>{B(ae,X)})}}catch(f){console.warn("Failed to parse hex color:",a,f)}finally{setTimeout(()=>{Q.current=!1},25)}},8)},[t.hue,t.saturation,t.lightness,s,B]),ye=(a,f)=>{const C=parseFloat(f.target.value);if(!isNaN(C)){let v,L;a==="hue"?(v=360,L=0):a==="alpha"?(v=1,L=0):a==="steps"?s==="success"||s==="warning"||s==="destructive"?(v=7,L=3):(v=14,L=6):a==="saturation"&&s==="neutrals"?(v=15,L=0):(v=100,L=0);const I=Math.min(Math.max(C,L),v);B(a,I)}},re=A.useCallback(a=>{if(!T)return;const f=document.querySelector(`[data-color-control="${s}"]`);if(!f)return;const C=f.getBoundingClientRect(),v=C.width;let I=(a.clientX-C.left)/v*100;I=Math.max(20,Math.min(40,I)),x(I)},[T,s]),oe=A.useCallback(()=>{b(!1)},[]);A.useEffect(()=>(T?(document.addEventListener("mousemove",re),document.addEventListener("mouseup",oe),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",oe),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",oe),document.body.style.cursor="",document.body.style.userSelect=""}),[T,re,oe]),A.useEffect(()=>()=>{ee.current&&clearTimeout(ee.current)},[]);const Ee=()=>{const a=Math.round(t.steps),f=[],C=ce();ge();let v=[];if(r.colorInterpolationMode==="lch"&&o){const M=Ue(t.hue,t.saturation,t.lightness,t.alpha,a,C,t.lightnessEasingLight||"ease-out",t.lightnessEasingDark||"ease-in",t.saturationEasingLight||"linear",t.saturationEasingDark||"linear",t.customLightnessCurveLight,t.customLightnessCurveDark,t.customSaturationCurveLight,t.customSaturationCurveDark,s,t.primaryOffset||0,t.whiteOffset||0,t.blackOffset||0,t.stepPadding||1);v=M.map($=>$.hex);for(let $=0;$<a;$++){const k=M[$],P=k.hex,de=`${s}-${$}`,q=N[de];let i;if(q){const g=le(P,q),F=Z(g);i={color:q,contrast:g,compliance:F,isCustom:!0}}else{const g=le(P,"#FFFFFF"),F=le(P,"#000000"),J=Z(g),xe=Z(F);i={whiteContrast:g,blackContrast:F,whiteCompliance:J,blackCompliance:xe,isCustom:!1}}let S=null;if(d&&o){const g=ke(v,$);g.hasSimilarSibling&&(S={hasSimilarSibling:!0,similarIndices:g.similarIndices,deltaEValues:g.deltaEValues})}const me=ne($),pe=`${s}-${me}`,W=$===C;f.push(e.jsxs("div",{className:"flex flex-col items-center",style:{flex:"1 0 calc(100% / Math.min(steps, 6) - 4px)"},children:[e.jsx("div",{className:`w-full aspect-square mb-1 ${W?"p-0.5":""}`,style:W?{border:"2px solid black",borderRadius:"18px"}:{},children:e.jsxs("div",{className:`w-full h-full border relative p-4 ${W?"border-transparent":"border-border"}`,style:{backgroundColor:P,borderRadius:"16px"},children:[(S==null?void 0:S.hasSimilarSibling)&&e.jsxs("div",{className:"absolute top-2 left-2 z-10 flex items-center gap-1",children:[e.jsx(Me,{className:`w-4 h-4 drop-shadow-md ${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"}`}),e.jsxs("span",{className:`text-xs font-medium drop-shadow-sm ${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"}`,children:["ΔE ≤ ",Math.min(...S.deltaEValues).toFixed(1)]})]}),p&&e.jsx("div",{className:`absolute top-2 ${S!=null&&S.hasSimilarSibling?"left-24":"left-2"}`,children:e.jsx($e,{tokenName:s,stepIndex:$,currentColor:P,useWhiteIcon:!(!i.isCustom&&i.blackCompliance.AA)})}),p&&e.jsx("div",{className:"absolute top-4 right-4 flex flex-col gap-1 text-xs font-mono",children:i.isCustom?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border border-border",style:{backgroundColor:i.color}}),e.jsxs("div",{className:"flex gap-1",children:[i.compliance.AA&&e.jsx("span",{className:"text-black bg-white/90 px-1 rounded",children:"AA ✓"}),i.compliance.AAA&&e.jsx("span",{className:"text-black bg-white/90 px-1 rounded",children:"AAA ✓"}),!i.compliance.AA&&e.jsx("span",{className:"text-black bg-white/90 px-1 rounded",children:i.contrast.toFixed(1)})]})]}):e.jsxs(e.Fragment,{children:[(i.whiteCompliance.AA||i.whiteCompliance.AAA)&&e.jsxs("div",{className:"flex gap-1",children:[i.whiteCompliance.AA&&e.jsx("span",{className:"text-white",children:"AA ✓"}),i.whiteCompliance.AAA&&e.jsx("span",{className:"text-white",children:"AAA ✓"})]}),(i.blackCompliance.AA||i.blackCompliance.AAA)&&e.jsxs("div",{className:"flex gap-1",children:[i.blackCompliance.AA&&e.jsx("span",{className:"text-black",children:"AA ✓"}),i.blackCompliance.AAA&&e.jsx("span",{className:"text-black",children:"AAA ✓"})]})]})}),e.jsxs("div",{className:"absolute bottom-2 left-2 flex flex-col text-xs font-mono leading-tight",children:[e.jsx("span",{className:`${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"} drop-shadow-sm`,children:P}),e.jsx("span",{className:`${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"} drop-shadow-sm`,children:(()=>{const g=ue();return O/g>=200?`hsla(${Math.round(k.h)}, ${Math.round(k.s)}%, ${Math.round(k.l)}%, ${k.a.toFixed(2)})`:`hsla(${Math.round(k.h)}, ${Math.round(k.s)}, ${Math.round(k.l)}, ${k.a.toFixed(2)})`})()})]})]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-full",children:pe}),W&&e.jsx("span",{className:"text-xs text-primary font-medium mt-0.5",children:"Primary Step"})]})]},$))}return f}const L=t.lightness,I=12,G=98,te=s==="success"||s==="warning"||s==="destructive";let se=I;te&&(se=25);const Y=we(a,C,L,se,G,t.lightnessEasingLight||"ease-out",t.lightnessEasingDark||"ease-in",t.customLightnessCurveLight,t.customLightnessCurveDark,t.primaryOffset||0,t.whiteOffset||0,t.blackOffset||0,t.stepPadding||1),ae=Xe(a,C,t.saturation,s==="neutrals"?"neutral":te?"utility":"standard",t.saturationEasingLight||"linear",t.saturationEasingDark||"linear",t.customSaturationCurveLight,t.customSaturationCurveDark),X=[];for(let M=0;M<a;M++)X.push({lightness:Y[M],saturation:ae[M]});for(let M=0;M<a;M++){const $=X[M].lightness,k=X[M].saturation,P=R(t.hue,k,$,t.alpha);if(v.length===0)for(let g=0;g<a;g++){const F=X[g].lightness,J=X[g].saturation;v.push(R(t.hue,J,F,t.alpha))}const de=`${s}-${M}`,q=N[de];let i;if(q){const g=le(P,q),F=Z(g);i={color:q,contrast:g,compliance:F,isCustom:!0}}else{const g=Le(t.hue,k,$,t.alpha,"#FFFFFF"),F=Le(t.hue,k,$,t.alpha,"#000000"),J=Z(g),xe=Z(F);i={whiteContrast:g,blackContrast:F,whiteCompliance:J,blackCompliance:xe,isCustom:!1}}let S=null;if(d&&o){const g=ke(v,M);g.hasSimilarSibling&&(S={hasSimilarSibling:!0,similarIndices:g.similarIndices,deltaEValues:g.deltaEValues})}const me=ne(M),pe=`${s}-${me}`,W=M===C;f.push(e.jsxs("div",{className:"flex flex-col items-center",style:{flex:"1 0 calc(100% / Math.min(steps, 6) - 4px)"},children:[e.jsx("div",{className:`w-full aspect-square mb-1 ${W?"p-0.5":""}`,style:W?{border:"2px solid black",borderRadius:"18px"}:{},children:e.jsxs("div",{className:`w-full h-full border relative p-4 ${W?"border-transparent":"border-border"}`,style:{backgroundColor:P,borderRadius:"16px"},children:[(S==null?void 0:S.hasSimilarSibling)&&e.jsxs("div",{className:"absolute top-2 left-2 z-10 flex items-center gap-1",children:[e.jsx(Me,{className:`w-4 h-4 drop-shadow-md ${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"}`}),e.jsxs("span",{className:`text-xs font-medium drop-shadow-sm ${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"}`,children:["ΔE ≤ ",Math.min(...S.deltaEValues).toFixed(1)]})]}),p&&e.jsx("div",{className:`absolute top-2 ${S!=null&&S.hasSimilarSibling?"left-24":"left-2"}`,children:e.jsx($e,{tokenName:s,stepIndex:M,currentColor:P,useWhiteIcon:!(!i.isCustom&&i.blackCompliance.AA)})}),p&&e.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-1 text-xs font-mono",children:i.isCustom?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border border-border",style:{backgroundColor:i.color}}),e.jsxs("div",{className:"flex gap-1",children:[i.compliance.AA&&e.jsx("span",{className:"text-black bg-white/90 px-1 rounded",children:"AA ✓"}),i.compliance.AAA&&e.jsx("span",{className:"text-black bg-white/90 px-1 rounded",children:"AAA ✓"}),!i.compliance.AA&&e.jsx("span",{className:"text-black bg-white/90 px-1 rounded",children:i.contrast.toFixed(1)})]})]}):e.jsxs(e.Fragment,{children:[(i.whiteCompliance.AA||i.whiteCompliance.AAA)&&e.jsxs("div",{className:"flex gap-1",children:[i.whiteCompliance.AA&&e.jsx("span",{className:"text-white",children:"AA ✓"}),i.whiteCompliance.AAA&&e.jsx("span",{className:"text-white",children:"AAA ✓"})]}),(i.blackCompliance.AA||i.blackCompliance.AAA)&&e.jsxs("div",{className:"flex gap-1",children:[i.blackCompliance.AA&&e.jsx("span",{className:"text-black",children:"AA ✓"}),i.blackCompliance.AAA&&e.jsx("span",{className:"text-black",children:"AAA ✓"})]})]})}),e.jsxs("div",{className:"absolute bottom-2 left-2 flex flex-col text-xs font-mono leading-tight",children:[e.jsx("span",{className:`${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"} drop-shadow-sm`,children:P}),e.jsx("span",{className:`${!i.isCustom&&i.blackCompliance.AA?"text-black":"text-white"} drop-shadow-sm`,children:(()=>{const g=ue();return O/g>=200?`hsla(${Math.round(t.hue)}, ${Math.round(k)}%, ${Math.round($)}%, ${t.alpha.toFixed(2)})`:`hsla(${Math.round(t.hue)}, ${Math.round(k)}, ${Math.round($)}, ${t.alpha.toFixed(2)})`})()})]})]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-full",children:pe}),W&&e.jsx("span",{className:"text-xs text-primary font-medium mt-0.5",children:"Primary Step"})]})]},M))}return f};return e.jsxs("div",{className:`mb-8 w-full cursor-pointer rounded-xl p-4 transition-colors hover:bg-gray-50/80 active:bg-gray-100/80 ${_?"outline outline-2 outline-black outline-offset-2":""} ${u?"":"opacity-50 pointer-events-none"}`,"data-color-control":s,onClick:u?Re:void 0,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"text-lg font-medium",children:n}),m&&h&&e.jsx("div",{className:"pointer-events-auto",onClick:a=>a.stopPropagation(),children:e.jsx(We,{id:`${s}-enabled`,checked:u,onCheckedChange:h})})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.jsx("div",{className:"w-8 h-8 rounded-full border border-border",style:{backgroundColor:E}}),e.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:E})]})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:U,className:"grid gap-2",style:{gridTemplateColumns:`repeat(${ue()}, 1fr)`,width:"100%"},children:Ee()},`${t.lightnessCompression}-${t.darknessCompression}-${t.primaryOffset}-${t.whiteOffset}-${t.blackOffset}-${t.stepPadding}-${t.lightnessEasingLight}-${t.lightnessEasingDark}-${JSON.stringify(t.customLightnessCurveLight)}-${JSON.stringify(t.customLightnessCurveDark)}`),e.jsx("div",{className:"w-full px-2 mt-4",children:e.jsx(Je,{lightnessValues:(()=>{const a=Math.round(t.steps),f=ce();return we(a,f,t.lightness,s==="success"||s==="warning"||s==="destructive"?25:12,98,t.lightnessEasingLight||"ease-out",t.lightnessEasingDark||"ease-in",t.customLightnessCurveLight,t.customLightnessCurveDark,t.primaryOffset||0,t.whiteOffset||0,t.blackOffset||0,t.stepPadding||1)})(),primaryStepIndex:ce(),primaryColor:(()=>{switch(s){case"secondary":return R(r.colors.secondary.hue,r.colors.secondary.saturation,r.colors.secondary.lightness,r.colors.secondary.alpha);case"accent":return R(r.colors.accent.hue,r.colors.accent.saturation,r.colors.accent.lightness,r.colors.accent.alpha);case"neutrals":return R(r.colors.neutrals.hue,r.colors.neutrals.saturation,r.colors.neutrals.lightness,r.colors.neutrals.alpha);case"success":return R(r.colors.success.hue,r.colors.success.saturation,r.colors.success.lightness,r.colors.success.alpha);case"warning":return R(r.colors.warning.hue,r.colors.warning.saturation,r.colors.warning.lightness,r.colors.warning.alpha);case"destructive":return R(r.colors.destructive.hue,r.colors.destructive.saturation,r.colors.destructive.lightness,r.colors.destructive.alpha);default:return R(r.colors.primary.hue,r.colors.primary.saturation,r.colors.primary.lightness,r.colors.primary.alpha)}})(),secondaryColor:R(r.colors.secondary.hue,r.colors.secondary.saturation,r.colors.secondary.lightness,r.colors.secondary.alpha)})},`graph-${t.lightnessCompression}-${t.darknessCompression}-${t.primaryOffset}-${t.whiteOffset}-${t.blackOffset}-${t.stepPadding}-${t.lightnessEasingLight}-${t.lightnessEasingDark}-${JSON.stringify(t.customLightnessCurveLight)}-${JSON.stringify(t.customLightnessCurveDark)}`)]})]})},Qe=A.forwardRef(({className:s="w-4 h-4"},n)=>e.jsx("svg",{ref:n,className:s,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}));Qe.displayName="InfoIcon";export{rt as C,Qe as I};
